{{ define "main" }}
    {{ if .Content }}
    <div class="index-content {{ if .Params.framed -}}framed{{- end -}}">
        {{ .Content }}
    </div>
    {{ end }}
    <div class="posts">
        <h1>Marin's Photos</h1>
        <span>A testament to adventure.</span>

        {{ $isntDefault := not (or (eq (trim $.Site.Params.contentTypeName " ") "posts") (eq (trim $.Site.Params.contentTypeName " ") "")) }}
        {{ $contentTypeName := cond $isntDefault (string $.Site.Params.contentTypeName) "photos" }}

        {{ $PageContext := . }}
        {{ if .IsHome }}
        {{ $PageContext = .Site }}
        {{ end }}
        {{ $paginator := .Paginate (where $PageContext.RegularPages "Type" $contentTypeName) }}

        {{ range $paginator.Pages }}
        <div class="post on-list">
            <h1 class="image-thumbnail">
                <a href="{{ .Permalink }}">
                    <img src="{{ .Params.thumbnail }}" alt="{{ .Title }}" style="width: 150px; height: 150px; overflow: hidden">
                </a>
            </h1>

            {{ if .Params.Cover }}
            <img src="{{ .Params.Cover | absURL }}" class="post-cover" alt="{{ .Title | plainify | default " " }}" />
            {{ end }}
        </div>
        {{ end }}
        {{ partial "pagination.html" . }}
    </div>
{{ end }}
